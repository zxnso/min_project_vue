{"remainingRequest":"E:\\learn\\learn_work_spaces\\minproject\\node_modules\\babel-loader\\lib\\index.js!E:\\learn\\learn_work_spaces\\minproject\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\learn\\learn_work_spaces\\minproject\\src\\store\\modules\\user.js","dependencies":[{"path":"E:\\learn\\learn_work_spaces\\minproject\\src\\store\\modules\\user.js","mtime":1599500938670},{"path":"E:\\learn\\learn_work_spaces\\minproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\learn\\learn_work_spaces\\minproject\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\learn\\learn_work_spaces\\minproject\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgeyBsb2dpbiwgbG9nb3V0IGFzIF9sb2dvdXQsIGdldEluZm8gfSBmcm9tICdAL2FwaS91c2VyJzsKaW1wb3J0IHsgZ2V0VG9rZW4sIHNldFRva2VuLCByZW1vdmVUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CmltcG9ydCB7IHJlc2V0Um91dGVyIH0gZnJvbSAnQC9yb3V0ZXInOwoKdmFyIGdldERlZmF1bHRTdGF0ZSA9IGZ1bmN0aW9uIGdldERlZmF1bHRTdGF0ZSgpIHsKICByZXR1cm4gewogICAgdG9rZW46IGdldFRva2VuKCksCiAgICBuYW1lOiAnJywKICAgIGF2YXRhcjogJycKICB9Owp9OwoKdmFyIHN0YXRlID0gZ2V0RGVmYXVsdFN0YXRlKCk7CnZhciBtdXRhdGlvbnMgPSB7CiAgUkVTRVRfU1RBVEU6IGZ1bmN0aW9uIFJFU0VUX1NUQVRFKHN0YXRlKSB7CiAgICBPYmplY3QuYXNzaWduKHN0YXRlLCBnZXREZWZhdWx0U3RhdGUoKSk7CiAgfSwKICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfSwKICBTRVRfTkFNRTogZnVuY3Rpb24gU0VUX05BTUUoc3RhdGUsIG5hbWUpIHsKICAgIHN0YXRlLm5hbWUgPSBuYW1lOwogIH0sCiAgU0VUX0FWQVRBUjogZnVuY3Rpb24gU0VUX0FWQVRBUihzdGF0ZSwgYXZhdGFyKSB7CiAgICBzdGF0ZS5hdmF0YXIgPSBhdmF0YXI7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvLyB1c2VyIGxvZ2luCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICBjb21taXQoJ1NFVF9UT0tFTicsICcxMjM0NTYnKTsKICAgICAgc2V0VG9rZW4oJzEyMzQ1NicpOwogICAgICByZXNvbHZlKCk7CiAgICB9KTsKICB9LAogIC8vIGdldCB1c2VyIGluZm8KICBnZXRJbmZvOiBmdW5jdGlvbiBnZXRJbmZvKF9yZWYyKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIGNvbW1pdCgnU0VUX05BTUUnLCAnU3VwZXIgQWRtaW4nKTsKICAgICAgY29tbWl0KCdTRVRfQVZBVEFSJywgJ2h0dHBzOi8vd3BpbWcud2FsbHN0Y24uY29tL2Y3Nzg3MzhjLWU0ZjgtNDg3MC1iNjM0LTU2NzAzYjRhY2FmZS5naWYnKTsKICAgICAgcmVzb2x2ZSh7CiAgICAgICAgcm9sZXM6IFsnYWRtaW4nXSwKICAgICAgICBpbnRyb2R1Y3Rpb246ICdJIGFtIGEgc3VwZXIgYWRtaW5pc3RyYXRvcicsCiAgICAgICAgYXZhdGFyOiAnaHR0cHM6Ly93cGltZy53YWxsc3Rjbi5jb20vZjc3ODczOGMtZTRmOC00ODcwLWI2MzQtNTY3MDNiNGFjYWZlLmdpZicsCiAgICAgICAgbmFtZTogJ1N1cGVyIEFkbWluJwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8gdXNlciBsb2dvdXQKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgX2xvZ291dChzdGF0ZS50b2tlbikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmVtb3ZlVG9rZW4oKTsgLy8gbXVzdCByZW1vdmUgIHRva2VuICBmaXJzdAoKICAgICAgICByZXNldFJvdXRlcigpOwogICAgICAgIGNvbW1pdCgnUkVTRVRfU1RBVEUnKTsKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAvLyByZW1vdmUgdG9rZW4KICByZXNldFRva2VuOiBmdW5jdGlvbiByZXNldFRva2VuKF9yZWY0KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHJlbW92ZVRva2VuKCk7IC8vIG11c3QgcmVtb3ZlICB0b2tlbiAgZmlyc3QKCiAgICAgIGNvbW1pdCgnUkVTRVRfU1RBVEUnKTsKICAgICAgcmVzb2x2ZSgpOwogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["E:/learn/learn_work_spaces/minproject/src/store/modules/user.js"],"names":["login","logout","getInfo","getToken","setToken","removeToken","resetRouter","getDefaultState","token","name","avatar","state","mutations","RESET_STATE","Object","assign","SET_TOKEN","SET_NAME","SET_AVATAR","actions","commit","Promise","resolve","roles","introduction","reject","then","catch","error","resetToken","namespaced"],"mappings":"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","sourcesContent":["import { login, logout, getInfo } from '@/api/user'\nimport { getToken, setToken, removeToken } from '@/utils/auth'\nimport { resetRouter } from '@/router'\n\nconst getDefaultState = () => {\n  return {\n    token: getToken(),\n    name: '',\n    avatar: ''\n  }\n}\n\nconst state = getDefaultState()\n\nconst mutations = {\n  RESET_STATE: state => {\n    Object.assign(state, getDefaultState())\n  },\n  SET_TOKEN: (state, token) => {\n    state.token = token\n  },\n  SET_NAME: (state, name) => {\n    state.name = name\n  },\n  SET_AVATAR: (state, avatar) => {\n    state.avatar = avatar\n  }\n}\n\nconst actions = {\n  // user login\n  login({ commit }) {\n    return new Promise(resolve => {\n      commit('SET_TOKEN', '123456')\n      setToken('123456')\n      resolve()\n    })\n  },\n\n  // get user info\n  getInfo({ commit }) {\n    return new Promise(resolve => {\n      commit('SET_NAME', 'Super Admin')\n      commit(\n        'SET_AVATAR',\n        'https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif'\n      )\n      resolve({\n        roles: ['admin'],\n        introduction: 'I am a super administrator',\n        avatar:\n          'https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif',\n        name: 'Super Admin'\n      })\n    })\n  },\n\n  // user logout\n  logout({ commit, state }) {\n    return new Promise((resolve, reject) => {\n      logout(state.token)\n        .then(() => {\n          removeToken() // must remove  token  first\n          resetRouter()\n          commit('RESET_STATE')\n          resolve()\n        })\n        .catch(error => {\n          reject(error)\n        })\n    })\n  },\n\n  // remove token\n  resetToken({ commit }) {\n    return new Promise(resolve => {\n      removeToken() // must remove  token  first\n      commit('RESET_STATE')\n      resolve()\n    })\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}\n"]}]}